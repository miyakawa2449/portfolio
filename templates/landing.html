{% extends "layout.html" %}

{% block title %}ビジネス課題から実装まで一人で解決するエンジニア - {{ admin_user.name if admin_user else 'Tsuyoshi Miyakawa' }}{% endblock %}

{% block content %}
<!-- ヒーローセクション -->
<section class="hero-section py-5">
    <div class="container text-center py-4">
        <h1 class="hero-title display-4 fw-bold mb-4">
            ビジネス課題から実装まで<br class="d-md-none">一人で解決するエンジニア
        </h1>
        <p class="hero-subtitle lead mb-5">
            要件定義・設計・実装を一貫対応<br>
            SE/PM経験 × プログラミング実装力 × AI活用による効率的開発
        </p>
        
        <!-- 個人情報ハイライト -->
        <div class="mb-4">
            {% if admin_user %}
            <h2 class="h5 mb-2">
                <strong>{{ admin_user.name }}</strong>{% if admin_user.handle_name %} ({{ admin_user.handle_name }}){% endif %}
            </h2>
            <p class="opacity-75">{{ admin_user.job_title or 'Business-Understanding Engineer' }}</p>
            {% if admin_user.introduction %}
                <p class="opacity-75">{{ admin_user.introduction[:150] }}{% if admin_user.introduction|length > 150 %}...{% endif %}</p>
            {% endif %}
            {% else %}
            <h2 class="h5 mb-2">
                <strong>{{ admin_user.name_romaji or admin_user.name or 'Tsuyoshi Miyakawa' }}</strong>
            </h2>
            <p class="opacity-75">Business-Understanding Engineer</p>
            {% endif %}
        </div>
        
        <!-- CTAボタン -->
        <div class="d-flex flex-wrap justify-content-center align-items-center gap-3">
            <a href="#services" class="btn btn-primary btn-lg">
                <i class="fas fa-briefcase me-2"></i> サービス詳細
            </a>
            <a href="#portfolio" class="btn btn-outline-light btn-lg">
                <i class="fas fa-code me-2"></i> 実績を見る
            </a>
            {% if admin_user and admin_user.handle_name %}
            <a href="{{ url_for('profile') }}" class="btn btn-outline-light btn-lg">
                <i class="fas fa-user me-2"></i> プロフィール
            </a>
            {% else %}
            <a href="{{ url_for('profile') }}" class="btn btn-outline-light btn-lg">
                <i class="fas fa-user me-2"></i> プロフィール
            </a>
            {% endif %}
        </div>
    </div>
</section>

<!-- 差別化要素セクション -->
<section class="py-5 bg-light" id="value-proposition">
    <div class="container">
        <h2 class="text-center mb-5">他のエンジニアとの違い</h2>
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm text-center animate-fade-in-up">
                    <div class="card-body">
                        <i class="fas fa-lightbulb fa-3x mb-3 text-warning"></i>
                        <h4 class="card-title">要件定義からできる</h4>
                        <p class="card-text">
                            SE経験により、曖昧な課題から具体的な要件を整理。
                            仕様書をもらって作るのではなく、課題解決のための仕様を作成できます。
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm text-center animate-fade-in-up">
                    <div class="card-body">
                        <i class="fas fa-cogs fa-3x mb-3 text-primary"></i>
                        <h4 class="card-title">設計・実装まで一貫対応</h4>
                        <p class="card-text">
                            PM経験 × プログラミング実装力により、
                            技術仕様書の作成からコーディング・テスト・デプロイまで一人で完結。
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm text-center animate-fade-in-up">
                    <div class="card-body">
                        <i class="fas fa-robot fa-3x mb-3 text-success"></i>
                        <h4 class="card-title">AI活用による高速開発</h4>
                        <p class="card-text">
                            AIを「優秀な部下」として活用する独自手法により、
                            従来の3-5倍の速度で高品質なシステムを開発。
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- サービスメニューセクション -->
<section class="py-5" id="services">
    <div class="container">
        <h2 class="text-center mb-5">提供サービス</h2>
        <div class="row g-4">
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm animate-fade-in-up">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-project-diagram fa-2x text-primary me-3"></i>
                            <div>
                                <h5 class="card-title mb-1">ビジネス課題解決パッケージ</h5>
                                <div class="text-muted">30-50万円/月</div>
                            </div>
                        </div>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i>要件ヒアリング・整理</li>
                            <li><i class="fas fa-check text-success me-2"></i>システム設計・技術仕様書作成</li>
                            <li><i class="fas fa-check text-success me-2"></i>実装・テスト・デプロイ</li>
                            <li><i class="fas fa-check text-success me-2"></i>AI活用による開発効率化</li>
                        </ul>
                        <div class="mt-auto">
                            <a href="#contact" class="btn btn-primary w-100">相談する</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm animate-fade-in-up">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-chart-line fa-2x text-info me-3"></i>
                            <div>
                                <h5 class="card-title mb-1">既存システム改善コンサル</h5>
                                <div class="text-muted">10-20万円/案件</div>
                            </div>
                        </div>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i>現状システムの課題分析</li>
                            <li><i class="fas fa-check text-success me-2"></i>改善提案・ROI算出</li>
                            <li><i class="fas fa-check text-success me-2"></i>段階的実装計画の策定</li>
                        </ul>
                        <div class="mt-auto">
                            <a href="#contact" class="btn btn-outline-primary w-100">相談する</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card h-100 shadow-sm animate-fade-in-up">
                    <div class="card-body">
                        <div class="d-flex align-items-center mb-3">
                            <i class="fas fa-rocket fa-2x text-warning me-3"></i>
                            <div>
                                <h5 class="card-title mb-1">要件定義＋プロトタイプ開発</h5>
                                <div class="text-muted">15-25万円/案件</div>
                            </div>
                        </div>
                        <ul class="list-unstyled">
                            <li><i class="fas fa-check text-success me-2"></i>ビジネス要件の技術要件への翻訳</li>
                            <li><i class="fas fa-check text-success me-2"></i>動作するプロトタイプの素早い実装</li>
                            <li><i class="fas fa-check text-success me-2"></i>ステークホルダー向けデモ・説明資料</li>
                        </ul>
                        <div class="mt-auto">
                            <a href="#contact" class="btn btn-outline-primary w-100">相談する</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- 実績セクション -->
{% if featured_projects %}
<section class="py-5 bg-dark text-white" id="portfolio">
    <div class="container">
        <h2 class="text-center mb-5">最新実績</h2>
        <div class="row g-4">
            {% for project in featured_projects %}
            <div class="col-lg-4">
                <div class="card bg-secondary text-white h-100 shadow-sm animate-fade-in-up">
                    {% if project.featured_image %}
                    <img src="{{ url_for('static', filename=project.featured_image) }}" 
                         class="card-img-top" 
                         alt="{{ project.title }}"
                         style="height: 200px; object-fit: cover;">
                    {% else %}
                    <div class="card-img-top bg-primary text-white d-flex align-items-center justify-content-center" 
                         style="height: 200px;">
                        <i class="fas fa-code fa-3x"></i>
                    </div>
                    {% endif %}
                    <div class="card-body">
                        <h5 class="card-title">{{ project.title }}</h5>
                        {% if project.description %}
                        <p class="card-text">{{ project.description[:100] }}...</p>
                        {% endif %}
                        
                        <!-- 技術スタック -->
                        {% if project.technology_list %}
                        <div class="mb-3">
                            <div class="d-flex flex-wrap gap-2">
                                {% for tech in project.technology_list[:3] %}
                                <span class="badge bg-light text-dark">{{ tech }}</span>
                                {% endfor %}
                                {% if project.technology_list|length > 3 %}
                                <span class="badge bg-warning text-dark">+{{ project.technology_list|length - 3 }}</span>
                                {% endif %}
                            </div>
                        </div>
                        {% endif %}
                        
                        <div class="d-flex gap-2">
                            {% if project.github_url %}
                            <a href="{{ project.github_url }}" target="_blank" class="btn btn-outline-light btn-sm">
                                <i class="fab fa-github me-1"></i> Code
                            </a>
                            {% endif %}
                            
                            {% set demo_urls = project.demo_url_list %}
                            {% if demo_urls %}
                                <a href="{{ demo_urls[0].url }}" target="_blank" class="btn btn-light btn-sm">
                                    <i class="fas fa-external-link-alt me-1"></i> Demo
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="text-center mt-5">
            <a href="{{ url_for('projects') }}" class="btn btn-light btn-lg">
                すべての実績を見る ({{ total_projects }}件)
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- 技術力の根拠セクション -->
<section class="py-5">
    <div class="container">
        <h2 class="text-center mb-5">技術力の根拠</h2>
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="animate-fade-in-left">
                    <h3 class="mb-4">
                        <i class="fas fa-chart-line me-2 text-primary"></i> 
                        継続的なスキル向上
                    </h3>
                    <p class="lead mb-4">
                        100日間のPython集中学習チャレンジを通じて、
                        最新技術への対応力と継続的な学習能力を証明しています。
                    </p>
                    
                    <!-- 統計情報 -->
                    <div class="row g-3 mb-4">
                        <div class="col-md-4 text-center">
                            <div class="h2 mb-1 text-primary">{{ total_articles }}</div>
                            <div class="small text-muted">学習記録</div>
                        </div>
                        <div class="col-md-4 text-center">
                            <div class="h2 mb-1 text-success">{{ total_projects }}</div>
                            <div class="small text-muted">実装プロジェクト</div>
                        </div>
                        <div class="col-md-4 text-center">
                            <div class="h2 mb-1 text-warning">100</div>
                            <div class="small text-muted">日間チャレンジ</div>
                        </div>
                    </div>
                    
                    <div class="d-flex flex-wrap gap-3">
                        <a href="{{ url_for('portfolio') }}" class="btn btn-outline-primary">
                            <i class="fas fa-trophy me-2"></i> チャレンジの詳細
                        </a>
                        <a href="{{ url_for('blog') }}" class="btn btn-outline-secondary">
                            <i class="fas fa-book-open me-2"></i> 学習記録
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card shadow animate-fade-in-right">
                    <div class="card-body text-center p-4">
                        <i class="fas fa-code fa-4x mb-3 text-primary"></i>
                        <h4 class="mb-3">実装力 × ビジネス理解</h4>
                        <p class="mb-4">
                            一般的なエンジニアは仕様書通りに実装するだけ。<br>
                            私はビジネス課題を理解して、最適な技術解決策を提案・実装します。
                        </p>
                        <div class="row g-3">
                            <div class="col-6">
                                <div class="bg-light p-3 rounded">
                                    <div class="h6 mb-1">SE経験</div>
                                    <div class="small text-muted">要件定義・分析</div>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="bg-light p-3 rounded">
                                    <div class="h6 mb-1">PM経験</div>
                                    <div class="small text-muted">設計・管理</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- お問い合わせセクション -->
<section class="py-5 bg-primary text-white" id="contact">
    <div class="container text-center">
        <h2 class="mb-4">
            <i class="fas fa-envelope me-2"></i> まずはお気軽にご相談ください
        </h2>
        <p class="lead mb-4">
            システム開発・業務効率化・DX推進でお困りではありませんか？<br>
            要件整理から実装まで、一貫してサポートします。
        </p>
        
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="d-flex flex-wrap justify-content-center gap-3">
                    <a href="mailto:{{ site_settings.contact_email or 'contact@miyakawa.codes' }}" class="btn btn-light btn-lg">
                        <i class="fas fa-envelope me-2"></i> メールで相談
                    </a>
                    <a href="{{ url_for('portfolio') }}" class="btn btn-outline-light btn-lg">
                        <i class="fas fa-trophy me-2"></i> スキルを詳しく見る
                    </a>
                </div>
                
                <div class="mt-4">
                    <small class="opacity-75">
                        初回相談は無料です。お気軽にお問い合わせください。
                    </small>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block scripts %}
<script>
// アニメーション設定
document.addEventListener('DOMContentLoaded', function() {
    // Intersection Observer for fade-in animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
            }
        });
    }, {
        threshold: 0.1
    });

    // 全てのアニメーション要素を監視
    document.querySelectorAll('.animate-fade-in-up, .animate-fade-in-left, .animate-fade-in-right').forEach(el => {
        observer.observe(el);
    });
    
    // スムーズスクロール
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
});
</script>
{% endblock %}